<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">calculateDateDifference</value>
  <value name="encodeutf8">true</value>
  <value name="body">Ci8vIHBpcGVsaW5lCklEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vy
c29yKCk7ClN0cmluZwlzdGFydERhdGVUaW1lID0gIiI7ClN0cmluZwllbmREYXRlVGltZSA9ICIi
OwpTdHJpbmcgc3RhcnREYXRlRm9ybWF0ID0gIiI7ClN0cmluZyBlbmREYXRlRm9ybWF0ID0gIiI7
CmlmIChwaXBlbGluZUN1cnNvci5maXJzdCgic3RhcnREYXRlVGltZSIpKQp7CglzdGFydERhdGVU
aW1lID0gKFN0cmluZykgcGlwZWxpbmVDdXJzb3IuZ2V0VmFsdWUoKTsKfQppZiAocGlwZWxpbmVD
dXJzb3IuZmlyc3QoImVuZERhdGVUaW1lIikpCnsKCWVuZERhdGVUaW1lID0gKFN0cmluZykgcGlw
ZWxpbmVDdXJzb3IuZ2V0VmFsdWUoKTsKfQppZiAocGlwZWxpbmVDdXJzb3IuZmlyc3QoInN0YXJ0
RGF0ZUZvcm1hdCIpKQp7CglzdGFydERhdGVGb3JtYXQgPSAoU3RyaW5nKSBwaXBlbGluZUN1cnNv
ci5nZXRWYWx1ZSgpOwp9CmlmIChwaXBlbGluZUN1cnNvci5maXJzdCgiZW5kRGF0ZUZvcm1hdCIp
KQp7CgllbmREYXRlRm9ybWF0ID0gKFN0cmluZykgcGlwZWxpbmVDdXJzb3IuZ2V0VmFsdWUoKTsK
fQoKaWYgKHN0YXJ0RGF0ZVRpbWUuZXF1YWxzKCIiKSB8fCBlbmREYXRlVGltZS5lcXVhbHMoIiIp
KQoJdGhyb3cgbmV3IFNlcnZpY2VFeGNlcHRpb24oIkRhdGVzIGNhbm5vdCBiZSBudWxsIik7Cmlm
IChzdGFydERhdGVGb3JtYXQuZXF1YWxzKCIiKSB8fCBlbmREYXRlRm9ybWF0LmVxdWFscygiIikp
Cgl0aHJvdyBuZXcgU2VydmljZUV4Y2VwdGlvbigiRGF0ZSBmb3JtYXRzIGNhbm5vdCBiZSBudWxs
Iik7CgpwaXBlbGluZUN1cnNvci5kZXN0cm95KCk7Cgp0cnkgewoJCVNpbXBsZURhdGVGb3JtYXQg
c2RmID0gbmV3IFNpbXBsZURhdGVGb3JtYXQoc3RhcnREYXRlRm9ybWF0KTsKCQlEYXRlIHNkdCA9
IHNkZi5wYXJzZShzdGFydERhdGVUaW1lKTsKCQlTaW1wbGVEYXRlRm9ybWF0IGVkZiA9IG5ldyBT
aW1wbGVEYXRlRm9ybWF0KGVuZERhdGVGb3JtYXQpOwoJCURhdGUgZWR0ID0gZWRmLnBhcnNlKGVu
ZERhdGVUaW1lKTsKCQlsb25nICB0aW1lZGlmZiA9IGVkdC5nZXRUaW1lKCkgLSBzZHQuZ2V0VGlt
ZSgpOwoKLy8JCVNpbXBsZURhdGVGb3JtYXQgc3NkZiA9IG5ldyBTaW1wbGVEYXRlRm9ybWF0KCJI
SDptbTpzcyIpOwovLwkJQ2FsZW5kYXIgY2FsID0gQ2FsZW5kYXIuZ2V0SW5zdGFuY2UoKTsKLy8J
CWNhbC5jbGVhcigpOwovLwkJY2FsLnNldChDYWxlbmRhci5TRUNPTkQsIChpbnQpIHRpbWVkaWZm
IC8xMDAwKTsKCi8vCQlEYXRlIG5ld0RhdGVUaW1lID0gY2FsLmdldFRpbWUoKTsKLy8JCVN0cmlu
ZyBkaXNwbGF5VGltZT1udWxsOwoKLy8JCWlmIChjYWwuZ2V0KENhbGVuZGFyLkRBWV9PRl9ZRUFS
KSA+IDEgKQovLwkJICAgIGRpc3BsYXlUaW1lID0gc3NkZi5mb3JtYXQobmV3RGF0ZVRpbWUpICsg
IiBhbmQgIiArIChjYWwuZ2V0KENhbGVuZGFyLkRBWV9PRl9ZRUFSKS0xKSArICIgRGF5KHMpIiA7
Ci8vCQllbHNlIAovLwkJICAgIGRpc3BsYXlUaW1lID0gc3NkZi5mb3JtYXQobmV3RGF0ZVRpbWUp
OwoKCQlTdHJpbmcgZGlzcGxheVRpbWVTZWMgPSBMb25nLnRvU3RyaW5nKHRpbWVkaWZmLzEwMDAp
OwoJCVN0cmluZyBkaXNwbGF5VGltZU1pbiA9IExvbmcudG9TdHJpbmcodGltZWRpZmYvNjAwMDAp
OwoJCVN0cmluZyBkaXNwbGF5VGltZUhyID0gTG9uZy50b1N0cmluZyh0aW1lZGlmZi8zNjAwMDAw
KTsKCQlTdHJpbmcgZGlzcGxheVRpbWVEYXkgPSBMb25nLnRvU3RyaW5nKHRpbWVkaWZmLzg2NDAw
MDAwKTsKCgkJLy8gcGlwZWxpbmUKCQlJRGF0YUN1cnNvciBwaXBlbGluZUN1cnNvcl8xID0gcGlw
ZWxpbmUuZ2V0Q3Vyc29yKCk7CgkJcGlwZWxpbmVDdXJzb3JfMS5sYXN0KCk7CgkJcGlwZWxpbmVD
dXJzb3JfMS5pbnNlcnRBZnRlciggImRhdGVEaWZmZXJlbmNlU2VjIiwgZGlzcGxheVRpbWVTZWMp
OwoJCXBpcGVsaW5lQ3Vyc29yXzEuaW5zZXJ0QWZ0ZXIoICJkYXRlRGlmZmVyZW5jZU1pbiIsIGRp
c3BsYXlUaW1lTWluKTsKCQlwaXBlbGluZUN1cnNvcl8xLmluc2VydEFmdGVyKCAiZGF0ZURpZmZl
cmVuY2VIciIsIGRpc3BsYXlUaW1lSHIpOwoJCXBpcGVsaW5lQ3Vyc29yXzEuaW5zZXJ0QWZ0ZXIo
ICJkYXRlRGlmZmVyZW5jZURheSIsIGRpc3BsYXlUaW1lRGF5KTsKCQlwaXBlbGluZUN1cnNvcl8x
LmRlc3Ryb3koKTsKCX0gY2F0Y2ggKFBhcnNlRXhjZXB0aW9uIGUpIHsKCQl0aHJvdyBuZXcgU2Vy
dmljZUV4Y2VwdGlvbigiRXJyb3IgcGFyc2luZyB0aGUgZGF0ZSB0aW1lOiAiICsgZSk7Cgl9</value>
</Values>
