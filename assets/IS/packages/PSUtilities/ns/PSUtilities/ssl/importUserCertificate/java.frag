<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">importUserCertificate</value>
  <value name="encodeutf8">true</value>
  <value name="body">CglTdHJpbmcJY2VydGlmaWNhdGVQYXRoID0gbnVsbDsKCVN0cmluZwl1c2VyID0gbnVsbDsKCglT
dHJpbmcgY2VydGlmaWNhdGVJc3N1ZXIgPSBudWxsOzsKCVN0cmluZyBjZXJ0aWZpY2F0ZVNlcmlh
bE51bWJlciA9IG51bGw7CglTdHJpbmcgY2VydGlmaWNhdGVTdWJqZWN0ID0gbnVsbDsKCWJ5dGVb
XSBjZXJ0aWZpY2F0ZSA9IG51bGw7CglpYWlrLng1MDkuWDUwOUNlcnRpZmljYXRlIHg1MDljZXJ0
aWZpY2F0ZSA9IG51bGw7CgoJLy8gcGlwZWxpbmUKCUlEYXRhQ3Vyc29yIHBpcGVsaW5lQ3Vyc29y
ID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CglpZiAoIHBpcGVsaW5lQ3Vyc29yLmZpcnN0KCAiY2Vy
dGlmaWNhdGVQYXRoIiApICkKCXsKCQljZXJ0aWZpY2F0ZVBhdGggPSAoU3RyaW5nKSBwaXBlbGlu
ZUN1cnNvci5nZXRWYWx1ZSgpOwoJfQoJaWYgKCBwaXBlbGluZUN1cnNvci5maXJzdCggImNlcnRp
ZmljYXRlIiApICkKCXsKCQljZXJ0aWZpY2F0ZSA9IChieXRlW10pIHBpcGVsaW5lQ3Vyc29yLmdl
dFZhbHVlKCk7Cgl9CgoJaWYgKCBwaXBlbGluZUN1cnNvci5maXJzdCggInVzZXIiICkgKQoJewoJ
CXVzZXIgPSAoU3RyaW5nKSBwaXBlbGluZUN1cnNvci5nZXRWYWx1ZSgpOwoJfQoKCS8vIHBpcGVs
aW5lCglpZiAoICB1c2VyID09IG51bGwgKQoJewoJICAgIHBpcGVsaW5lQ3Vyc29yLmluc2VydEFm
dGVyKCJlcnJvck1zZyIsICJudWxsIGlucHV0IHVzZXIuIik7CQoJCXJldHVybjsKCX0KCglpZiAo
IGNlcnRpZmljYXRlUGF0aCA9PSAgbnVsbCAmJiBjZXJ0aWZpY2F0ZSA9PSAgbnVsbCkKCXsKCSAg
ICBwaXBlbGluZUN1cnNvci5pbnNlcnRBZnRlcigiZXJyb3JNc2ciLCJFaXRoZXIgY2VydGlmaWNh
dGVQYXRoIGFuZCBjZXJ0aWZpY2F0ZSBjYW4gbm90IGJlIG51bGwuIik7CQoJCXJldHVybjsKCX0K
CglpZiAoICB1c2VyLmVxdWFscygiQWRtaW5pc3RyYXRvciIpICkKCXsKCSAgICBwaXBlbGluZUN1
cnNvci5pbnNlcnRBZnRlcigiZXJyb3JNc2ciLCJJbXBvcnQgZGVuaWVkOiBDYW5ub3QgbWFwIHRv
IEFkbWluaXN0cmF0b3IuIik7CQoJCXJldHVybjsKCX0KCgoJdHJ5Cgl7CgkJaWYgKCBjZXJ0aWZp
Y2F0ZVBhdGggIT0gIG51bGwpCgkJewoJICAgCQlqYXZhLmlvLkZpbGUgZmlsZSA9IG5ldyBqYXZh
LmlvLkZpbGUoY2VydGlmaWNhdGVQYXRoKTsKCSAgICAJaWYoIWZpbGUuZXhpc3RzKCkpCgkgICAg
CXsKCSAgICAgICAgCXBpcGVsaW5lQ3Vyc29yLmluc2VydEFmdGVyKCJlcnJvck1zZyIsImNlcnRp
ZmljYXRlIGRvZXNuJ3QgZXhpc3QuIik7CgkJCQlyZXR1cm47CgkgICAgCX0KICAgIAoJICAgIAlp
ZihmaWxlLmxlbmd0aCgpID09IDBMKQoJICAgIAl7CgkgICAgICAgCQlwaXBlbGluZUN1cnNvci5p
bnNlcnRBZnRlcigiZXJyb3JNc2ciLCJjZXJ0aWZpY2F0ZSBpcyBlbXB0eS4iKTsKCQkJCXJldHVy
bjsKCSAgICAJfQoKCSAgICAJLy9jcmVhdGUgY2VydGlmaWNhdGUKCSAgICAJamF2YS5pby5GaWxl
SW5wdXRTdHJlYW0gZmlsZWlucHV0c3RyZWFtID0gbmV3IGphdmEuaW8uRmlsZUlucHV0U3RyZWFt
KGZpbGUpOwoJICAgIAl4NTA5Y2VydGlmaWNhdGUgPSBuZXcgaWFpay54NTA5Llg1MDlDZXJ0aWZp
Y2F0ZShmaWxlaW5wdXRzdHJlYW0pOwoJICAgIAlmaWxlaW5wdXRzdHJlYW0uY2xvc2UoKTsgICAg
CgkJfQoJCWVsc2UgaWYgKGNlcnRpZmljYXRlICE9ICBudWxsKQoJCXsKCQkJeDUwOWNlcnRpZmlj
YXRlID0gbmV3IGlhaWsueDUwOS5YNTA5Q2VydGlmaWNhdGUoY2VydGlmaWNhdGUpOwoJCX0KCiAg
ICAJLy8gY2hlY2sgaWYgY2VydGlmaWNhdGUgZXhpc3RzIAoJICAgIFN0cmluZyBpc3N1ZXIgPSB4
NTA5Y2VydGlmaWNhdGUuZ2V0SXNzdWVyRE4oKS50b1N0cmluZygpOwoJCVN0cmluZyBzZXJpYWxO
dW1iZXIgPSB4NTA5Y2VydGlmaWNhdGUuZ2V0U2VyaWFsTnVtYmVyKCkudG9TdHJpbmcoKTsKCQlj
ZXJ0aWZpY2F0ZUlzc3VlciA9IGlzc3Vlcjs7CgkJY2VydGlmaWNhdGVTZXJpYWxOdW1iZXIgPSBz
ZXJpYWxOdW1iZXI7CgkgICAgY2VydGlmaWNhdGVTdWJqZWN0ID0geDUwOWNlcnRpZmljYXRlLmdl
dFN1YmplY3RETigpLnRvU3RyaW5nKCk7CgogIAoJICAgIGNvbS53bS5hcHAuYjJiLnNlcnZlci5D
ZXJ0aWZpY2F0ZU1hcEVudHJ5IGFjZXJ0aWZpY2F0ZW1hcGVudHJ5W10gPSAKCSAgICBjb20ud20u
YXBwLmIyYi5zZXJ2ZXIuQ2VydGlmaWNhdGVNYXBwZXIuY3VycmVudCgpLmxpc3RNYXBwaW5ncygp
OwoJICAgIGlmKGFjZXJ0aWZpY2F0ZW1hcGVudHJ5ICE9IG51bGwgJiYgYWNlcnRpZmljYXRlbWFw
ZW50cnkubGVuZ3RoICE9IDApCgkgICAgewoJICAgICAgICBmb3IoaW50IGkgPSAwOyBpIDwgYWNl
cnRpZmljYXRlbWFwZW50cnkubGVuZ3RoOyBpKyspCgkgICAgICAgIHsKCSAgICAgICAgICAgIGph
dmEuc2VjdXJpdHkuY2VydC5YNTA5Q2VydGlmaWNhdGUgYVg1MDljZXJ0aWZpY2F0ZSA9IAoJICAg
ICAgICAgICAgICAgIGFjZXJ0aWZpY2F0ZW1hcGVudHJ5W2ldLmdldENlcnRpZmljYXRlKCk7Cgkg
ICAgICAgICAgICBpZiggc2VyaWFsTnVtYmVyLmVxdWFscyhhWDUwOWNlcnRpZmljYXRlLmdldFNl
cmlhbE51bWJlcigpLnRvU3RyaW5nKCkpICYmIAoJICAgICAgICAgICAgICAgIGlzc3Vlci5lcXVh
bHMoYVg1MDljZXJ0aWZpY2F0ZS5nZXRJc3N1ZXJETigpLnRvU3RyaW5nKCkpKQoJICAgICAgICAg
ICAgewoJICAgICAgICAgICAgICAgIHBpcGVsaW5lQ3Vyc29yLmluc2VydEFmdGVyKCJlcnJvck1z
ZyIsImNlcnRpZmljYXRlIGFscmVhZHkgZXhpc3RzLiIpOwoJCQkJCXJldHVybjsKCSAgICAgICAg
ICAgIH0KCSAgICAgICAgfQoJICAgIH0KCgkgICAgLy8gYWRkIGNlcnRpZmljYXRlIHRvIHRoZSBt
YXBwaW5nIGxpc3QKCSAgICBjb20ud20uYXBwLmIyYi5zZXJ2ZXIuVXNlciBzZXJ2ZXJVc2VyID0g
IGNvbS53bS5hcHAuYjJiLnNlcnZlci5Vc2VyTWFuYWdlci5nZXRVc2VyKHVzZXIpOwoJICAgIGlm
KCEgY29tLndtLmFwcC5iMmIuc2VydmVyLkNlcnRpZmljYXRlTWFwcGVyLmN1cnJlbnQoKS5hZGRN
YXBwaW5nKHNlcnZlclVzZXIsIHg1MDljZXJ0aWZpY2F0ZSkpCgkgICAgewoJICAgICAgICBwaXBl
bGluZUN1cnNvci5pbnNlcnRBZnRlcigiZXJyb3JNc2ciLCJlcnJvciBpbiBpbXBvcnRpbmcgY2Vy
dGlmaWNhdGUgYXMgIiArIHVzZXIpOwoJCQlyZXR1cm47CgkgICAgfSAKCX0KCWNhdGNoIChFeGNl
cHRpb24gZSkKCXsKCSAgICBwaXBlbGluZUN1cnNvci5pbnNlcnRBZnRlcigiZXJyb3JNc2ciLGUu
dG9TdHJpbmcoKSk7CgkJcmV0dXJuOwoJfQogCgoJaW50IHN0YXJ0SW5kZXggPSBjZXJ0aWZpY2F0
ZUlzc3Vlci5pbmRleE9mKCJDTj0iKTsKCWludCBlbmRJbmRleCA9IGNlcnRpZmljYXRlSXNzdWVy
LmluZGV4T2YoIiwiLCBzdGFydEluZGV4KTsKCWNlcnRpZmljYXRlSXNzdWVyID0gY2VydGlmaWNh
dGVJc3N1ZXIuc3Vic3RyaW5nKHN0YXJ0SW5kZXgrMywgZW5kSW5kZXgpOwoKCglzdGFydEluZGV4
ID0gY2VydGlmaWNhdGVTdWJqZWN0LmluZGV4T2YoIkNOPSIpOwoJZW5kSW5kZXggPSBjZXJ0aWZp
Y2F0ZVN1YmplY3QuaW5kZXhPZigiLCIsIHN0YXJ0SW5kZXgpOwoJY2VydGlmaWNhdGVTdWJqZWN0
ID0gY2VydGlmaWNhdGVTdWJqZWN0LnN1YnN0cmluZyhzdGFydEluZGV4KzMsIGVuZEluZGV4KTsK
CgkvLyBwaXBlbGluZQoJcGlwZWxpbmVDdXJzb3IgPSBwaXBlbGluZS5nZXRDdXJzb3IoKTsKCXBp
cGVsaW5lQ3Vyc29yLmxhc3QoKTsKCXBpcGVsaW5lQ3Vyc29yLmluc2VydEFmdGVyKCAiY2VydGlm
aWNhdGVJc3N1ZXJDTiIsIGNlcnRpZmljYXRlSXNzdWVyICk7CglwaXBlbGluZUN1cnNvci5sYXN0
KCk7CglwaXBlbGluZUN1cnNvci5pbnNlcnRBZnRlciggImNlcnRpZmljYXRlU3ViamVjdENOIiwg
Y2VydGlmaWNhdGVTdWJqZWN0ICk7CglwaXBlbGluZUN1cnNvci5sYXN0KCk7CglwaXBlbGluZUN1
cnNvci5pbnNlcnRBZnRlciggImNlcnRpZmljYXRlU2VyaWFsTnVtYmVyIiwgY2VydGlmaWNhdGVT
ZXJpYWxOdW1iZXIgKTsKCXBpcGVsaW5lQ3Vyc29yLmRlc3Ryb3koKTsK</value>
</Values>
